#!/bin/bash				
				
INPUT_FILE="example_protein_ids.txt"   # Your file with UniProt IDs (one per line)				
OUTPUT_FILE="example_protein_fastas.txt"  # Output FASTA file				
				
# Clear previous output				
> "$OUTPUT_FILE"				
				
while read -r ID; do				
    if [ -z "$ID" ]; then				
        continue				
    fi				
				
    echo "Fetching $ID ..."				
				
    # Query UniProt				
    RESPONSE=$(curl -s "https://rest.uniprot.org/uniprotkb/${ID}.fasta")				
				
    # Check if result contains a proper FASTA header				
    if echo "$RESPONSE" | grep -q "^>"; then				
        echo "$RESPONSE" >> "$OUTPUT_FILE"				
    else				
        # Write placeholder if FASTA not found				
        {				
            echo ">${ID}"				
            echo "Sequence not found"				
        } >> "$OUTPUT_FILE"				
    fi				
				
    # Small delay to avoid hammering API				
    sleep 0.2				
done < "$INPUT_FILE"				
				
echo "âœ… Finished! Output written to $OUTPUT_FILE"				
